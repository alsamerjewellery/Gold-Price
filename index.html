<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <title>Gold Prices - Al Samer Jewellery</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdfaf4;
      color: #333;
      padding: 20px;
      line-height: 1.6;
    }

    h1, h2 {
      text-align: center;
      color: #bfa054;
    }

    .rate-card {
      background-color: #fff9e6;
      border: 2px solid #bfa054;
      border-radius: 10px;
      padding: 20px;
      margin: 20px auto;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .rate-card h3 {
      margin: 5px 0;
      color: #555;
    }

    .rate-value {
      font-size: 1.8em;
      font-weight: bold;
      color: #000;
    }

    .gold-table {
      width: 100%;
      max-width: 600px;
      margin: 30px auto;
      border-collapse: collapse;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .gold-table th {
      background-color: #bfa054;
      color: white;
      padding: 14px;
      font-size: 1.1em;
    }

    .gold-table td {
      background-color: #fff;
      padding: 12px;
      text-align: center;
      font-size: 1.05em;
      font-weight: bold;
      color: #222;
    }

    .gold-table tr:nth-child(even) td {
      background-color: #fdf5e6;
    }

    footer {
      margin-top: 50px;
      text-align: center;
      font-size: 0.9em;
      color: #666;
    }

    footer a {
      color: #bfa054;
      text-decoration: none;
    }
  </style>
</head>
<body>

<h1>مجوهرات السامر</h1>
<h2>Al Samer Jewellery</h2>

<div id="ratesContainer"></div>
<table class="gold-table" id="goldTable">
  <thead>
    <tr><th>العيار</th><th>السعر لكل غرام</th></tr>
  </thead>
  <tbody id="goldTableBody"></tbody>
</table>

<footer>
  <p>أبوظبي - مدينة زايد للتسوق - مركز الذهب</p>
  <p>📞 971504848825</p>
  <p>🌐 <a href="https://alsamerjewellery.ae" target="_blank">alsamerjewellery.ae</a></p>
</footer>

<script>
  async function fetchCSV() {
    const response = await fetch('data.csv?t=' + new Date().getTime());
    const text = await response.text();
    const lines = text.trim().split(/\r?\n/).map(line => line.trim()).filter(line => line !== '');

    const ratesContainer = document.getElementById('ratesContainer');
    const goldTableBody = document.getElementById('goldTableBody');

    let inTable = false;

    for (let line of lines) {
      const parts = line.split(',').map(p => p.trim());

      if (parts[0].toLowerCase().includes("ounce rate")) {
        // عرض بطاقة السعر
        const rateType = parts[0].replace(/rate/gi, "Rate").replace("Ounce", "Ounce").trim();
        const rateValue = parts[1] || '---';

        const card = document.createElement('div');
        card.className = 'rate-card';
        card.innerHTML = `
          <h3>${rateType}</h3>
          <div class="rate-value">${rateValue}</div>
        `;
        ratesContainer.appendChild(card);
      }
      else if (parts[0].toLowerCase().includes("gold price per gram")) {
        inTable = true;
      }
      else if (inTable && parts.length === 2) {
        const tr = document.createElement('tr');
        const td1 = document.createElement('td');
        const td2 = document.createElement('td');

        td1.textContent = parts[0];
        td2.textContent = parts[1];

        tr.appendChild(td1);
        tr.appendChild(td2);
        goldTableBody.appendChild(tr);
      }
    }
  }

  fetchCSV().catch(err => {
    console.error("Failed to load CSV:", err);
  });
</script>

</body>
</html>
