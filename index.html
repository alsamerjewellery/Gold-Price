<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>أسعار الذهب من CSV على GitHub Pages</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
  table { border-collapse: collapse; margin: 20px auto; width: 90%; max-width: 900px; background: white; box-shadow: 0 0 10px #ccc; }
  th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
  th { background-color: #bfa054; color: white; }
  tbody tr:nth-child(even) { background-color: #f9f9f9; }
</style>
</head>
<body>
<h1 style="text-align:center;">أسعار الذهب من ملف CSV</h1>
<table id="goldTable">
  <thead id="tableHead"></thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
  async function fetchCSV() {
    const response = await fetch('data.csv');
    const csvText = await response.text();

    const lines = csvText.trim().split('\n');
    const headers = lines[0].split(',');

    // بناء رأس الجدول
    const thead = document.getElementById('tableHead');
    const trHead = document.createElement('tr');
    headers.forEach(h => {
      const th = document.createElement('th');
      th.textContent = h;
      trHead.appendChild(th);
    });
    thead.appendChild(trHead);

    // بناء جسم الجدول
    const tbody = document.getElementById('tableBody');
    for(let i=1; i<lines.length; i++) {
      const row = lines[i].split(',');
      const tr = document.createElement('tr');
      row.forEach(cell => {
        const td = document.createElement('td');
        td.textContent = cell;
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    }
  }

  fetchCSV().catch(err => {
    document.body.innerHTML = '<p style="color:red; text-align:center;">حدث خطأ في تحميل البيانات.</p>';
    console.error(err);
  });
</script>
</body>
</html>
