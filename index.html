<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>أسعار الذهب - مجوهرات السامر</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdfaf4;
      color: #333;
      padding: 20px;
      line-height: 1.6;
    }

    h1, h2 {
      text-align: center;
      color: #bfa054;
    }

    .rate-card {
      background-color: #fff9e6;
      border: 2px solid #bfa054;
      border-radius: 10px;
      padding: 20px;
      margin: 20px auto;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .rate-title {
      font-size: 1.1em;
      color: #555;
    }

    .rate-value {
      font-size: 1.8em;
      font-weight: bold;
      color: #000;
    }

    .gold-table {
      width: 100%;
      max-width: 600px;
      margin: 30px auto;
      border-collapse: collapse;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .gold-table th {
      background-color: #bfa054;
      color: white;
      padding: 14px;
      font-size: 1.1em;
    }

    .gold-table td {
      background-color: #fff;
      padding: 12px;
      text-align: center;
      font-size: 1.05em;
      font-weight: bold;
      color: #222;
    }

    .gold-table tr:nth-child(even) td {
      background-color: #fdf5e6;
    }

    footer {
      margin-top: 50px;
      text-align: center;
      font-size: 0.9em;
      color: #666;
    }

    footer a {
      color: #bfa054;
      text-decoration: none;
    }
  </style>
</head>
<body>

<h1>مجوهرات السامر</h1>
<h2>Al Samer Jewellery</h2>

<div id="ratesContainer"></div>

<table class="gold-table" id="goldTable" style="display: none;">
  <thead>
    <tr><th>العيار</th><th>السعر لكل غرام</th></tr>
  </thead>
  <tbody id="goldTableBody"></tbody>
</table>

<footer>
  <p>أبوظبي - مدينة زايد للتسوق - مركز الذهب</p>
  <p>📞 971504848825</p>
  <p>🌐 <a href="https://alsamerjewellery.ae" target="_blank">alsamerjewellery.ae</a></p>
</footer>

<script>
  async function fetchCSV() {
    const response = await fetch('data.csv?t=' + new Date().getTime());
    const text = await response.text();
    const lines = text.trim().split(/\r?\n/).map(line => line.trim()).filter(line => line !== '');

    const ratesContainer = document.getElementById('ratesContainer');
    const goldTableBody = document.getElementById('goldTableBody');
    const goldTable = document.getElementById('goldTable');

    let inGoldTable = false;

    for (let line of lines) {
      const parts = line.split(',').map(p => p.trim());

      if (parts[0] && parts[1]) {
        if (inGoldTable) {
          // صف الجدول: العيار والسعر
          const tr = document.createElement('tr');
          tr.innerHTML = <td>${parts[0]}</td><td>${parts[1]}</td>;
          goldTableBody.appendChild(tr);
        } else {
          // بطاقة معلومات مثل: Ounce Rate Gold
          const card = document.createElement('div');
          card.className = 'rate-card';
          card.innerHTML = `
            <div class="rate-title">${parts[0]}</div>
            <div class="rate-value">${parts[1]}</div>
          `;
          ratesContainer.appendChild(card);
        }
      } else if (parts[0] && parts[1] === '') {
        // بداية جدول الذهب
        inGoldTable = true;
        goldTable.style.display = 'table';
      }
    }
  }

  fetchCSV().catch(err => {
    console.error("Failed to load CSV:", err);
  });
</script>

</body>
</html>
